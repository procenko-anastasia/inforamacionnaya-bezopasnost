# Лабораторная работа: Brute Force атака на симметричное шифрование (Fernet)

## Оглавление
1. [Назначение программы](#назначение-программы)  
2. [Условия выполнения](#условия-выполнения)  
3. [Описание задачи](#описание-задачи)  
4. [Алгоритм решения](#алгоритм-решения)  
5. [Функционирование программы](#функционирование-программы)  
6. [Сообщения оператору](#сообщения-оператору)  
7. [Выходные данные](#выходные-данные)  
8. [Ошибки и решения](#ошибки-и-решения)  
9. [Требования к документации](#требования-к-документации)  
10. [Дополнительные сведения](#дополнительные-сведения)  

---

## Назначение программы

Данный скрипт демонстрирует атаку методом перебора (Brute Force) на данные, зашифрованные с использованием симметричного шифра **Fernet** из библиотеки `cryptography`. Цель — подбор ключа для расшифровки зашифрованного файла.

---

## Условия выполнения

- Установлен Python 3.x  
- Установлена библиотека `cryptography`  
- Наличие файла `secret_encrypted.txt`, содержащего зашифрованные данные  
- Допустимая длина ключа перебора ограничена (по умолчанию до 5 символов)

---

## Описание задачи

1. Считывается зашифрованный файл `secret_encrypted.txt`.
2. Генерируются возможные символьные комбинации (буквы и цифры) в качестве ключей.
3. Каждая комбинация пробуется для расшифровки данных.
4. При успешной расшифровке программа выводит ключ и содержимое.

---

## Алгоритм решения

1. Открытие зашифрованного файла и чтение его содержимого в байтах.
2. Создание генератора `generate_keys(length)`, формирующего все возможные ключи.
3. В функции `brute_force()` выполняется:
   - Перебор длин ключей от 1 до `max_length`
   - Попытка создания объекта `Fernet` с каждым ключом
   - Попытка расшифровки
   - Обработка исключений — если ключ неверен, продолжаем
4. При успехе — вывод результата, завершение программы.

---

## Функционирование программы

- Скрипт запускается командой:
```bash
  python lab04_1.py
```

- Поочередно перебираются все возможные ключи из латинских символов и цифр.
- При нахождении правильного ключа выводится сообщение о расшифровке.

---

## Сообщения оператору

- `Ключ найден: Ab12c` — означает, что подходящий ключ найден  
- `Расшифрованные данные: Hello, world!` — вывод расшифрованной строки  
- `Ключ не найден.` — ни один из ключей не подошёл (по истечении всех попыток)  

---

## Выходные данные

- Найденный симметричный ключ (если успешно подобран)  
- Расшифрованные данные (в виде строки)  
- Сообщения об ошибках или завершении работы без успеха  

---

## Ошибки и решения

| Ошибка | Причина | Решение |
|--------|---------|---------|
| `ModuleNotFoundError: No module named 'cryptography'` | Не установлена библиотека `cryptography` | Установить командой `pip install cryptography` |
| `ValueError: Fernet key must be 32 url-safe base64-encoded bytes.` | Генерируемые ключи не соответствуют формату Fernet | Необходимо использовать `Fernet.generate_key()` как основу или изменить логику генерации |
| `InvalidToken` при расшифровке | Ключ неправильный — данные не расшифровываются | Это нормальная часть перебора — обрабатывается исключением |
| `FileNotFoundError: [Errno 2] No such file or directory: 'secret_encrypted.txt'` | Файл с зашифрованными данными отсутствует | Убедитесь, что файл `secret_encrypted.txt` находится в той же директории, что и скрипт |

---

## Требования к документации

- Скрипт должен быть снабжён комментариями к каждому важному блоку кода  
- `README.md` должен содержать инструкцию по запуску и описания используемых функций  

---

## Дополнительные сведения

- Библиотека `cryptography` использует ключи в формате base64 длиной **32 байта** — простая генерация из символов здесь используется **в учебных целях** и **не будет работать на реальных данных**, зашифрованных корректным ключом.  
- Для реальной работы необходимо перебирать **корректно сформированные ключи**, полученные, например, через `base64.urlsafe_b64encode()`.  
- Данный код предназначен **исключительно для образовательных целей** и **не должен использоваться для взлома данных без разрешения**.
